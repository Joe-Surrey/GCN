# ----------------------------------------------------------------------------------------------------------------------
executable    = /vol/research/SignRecognition/anaconda3/envs/slt/bin/python3
arguments = $(script)
# ----------------------------------------------------------------------------------------------------------------------
universe         = docker
docker_image     = pytorch/pytorch:1.8.0-cuda11.1-cudnn8-devel
JobBatchName    = msg3d
should_transfer_files = YES
environment = mount=/vol/research/SignRecognition,/vol/research/SignTranslation,/vol/research/extol,/vol/vssp/datasets/singlevideo/phoenix-2014,/vol/research/NOBACKUP/CVSSP/scratch_4weeks/
# ----------------------------------------------------------------------------------------------------------------------
log    = /vol/research/SignRecognition/swisstxt/logs/c$(cluster).p$(process).log
output = /vol/research/SignRecognition/swisstxt/logs/c$(cluster).p$(process).out
error  = /vol/research/SignRecognition/swisstxt/logs/c$(cluster).p$(process).error
# ----------------------------------------------------------------------------------------------------------------------
requirements = (HasDocker == true) && \
               (HasStornext == true) && \
               (CUDACapability>=5.0) && \
		(CUDAGlobalMemoryMb > 15000)
               #(machine != "gloin.eps.surrey.ac.uk") && \
               #(CUDACapability>=5.0)
               # && \
               # (NotProjectOwned == True)
# ----------------------------------------------------------------------------------------------------------------------
request_GPUs     = 1
request_CPUs     = 1
request_memory   = 50G
request_disk     = 10G
+GPUMem          = 15000
+CanCheckpoint   = False
+JobRunTime      = 24
# ----------------------------------------------------------------------------------------------------------------------
#priority = -1
# ----------------------------------------------------------------------------------------------------------------------
stream_output = True
script = /vol/research/SignRecognition/MS-G3D/extract.py --input_file /vol/research/extol/data/Phoenix2014T/Holistic/train/16_eps.slt --output_file /vol/research/NOBACKUP/CVSSP/scratch_4weeks/jd01327/phoenix/tmp/

queue
script = /vol/research/SignRecognition/MS-G3D/extract.py --input_file /vol/research/extol/data/Phoenix2014T/Holistic/test/16_eps.slt --output_file /vol/research/NOBACKUP/CVSSP/scratch_4weeks/jd01327/phoenix/tmp/

queue

script = /vol/research/SignRecognition/MS-G3D/extract.py --input_file /vol/research/extol/data/Phoenix2014T/Holistic/dev/16_eps.slt --output_file /vol/research/NOBACKUP/CVSSP/scratch_4weeks/jd01327/phoenix/tmp/

queue